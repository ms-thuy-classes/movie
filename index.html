<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn English with Ms. Th√∫y - IELTS Vocabulary</title>
    <style>
        :root {
            --pastel-pink: #ffd1dc;
            --deep-pink: #ffafbd;
            --accent-pink: #ff8fa3;
            --text-color: #4a4a4a;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, var(--pastel-pink), var(--deep-pink));
            color: var(--text-color);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
        }

        header {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        h1 { margin: 0; color: #d84361; font-size: 2.2em; }

        .container {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr; /* M·ªü r·ªông c·ªôt video */
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .video-section {
            position: sticky;
            top: 10px;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* T·ªâ l·ªá 16:9 */
            height: 0;
            border: 10px solid white;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            background: #000;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .transcript-section {
            background: rgba(255, 255, 255, 0.85);
            padding: 25px;
            border-radius: 25px;
            height: 85vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            scroll-behavior: smooth;
        }

        .sentence {
            padding: 18px;
            margin: 12px 0;
            border-radius: 15px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            line-height: 1.8;
            font-size: 1.05em;
            border-left: 6px solid transparent;
            background: rgba(255, 255, 255, 0.3);
        }

        .sentence.active {
            background: white;
            border-left: 6px solid var(--accent-pink);
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(216, 67, 97, 0.1);
        }

        input[type="text"] {
            border: none;
            border-bottom: 2.5px solid var(--accent-pink);
            background: #fff0f3;
            width: 130px;
            text-align: center;
            font-weight: bold;
            color: #d84361;
            outline: none;
            border-radius: 4px 4px 0 0;
            margin: 0 5px;
        }

        .keyword-hint {
            display: block;
            font-size: 0.85em;
            color: #d84361;
            font-style: italic;
            margin-top: 5px;
            font-weight: 500;
        }

        .transcript-section::-webkit-scrollbar { width: 10px; }
        .transcript-section::-webkit-scrollbar-thumb {
            background: var(--accent-pink);
            border-radius: 10px;
        }

        @media (max-width: 1100px) {
            .container { grid-template-columns: 1fr; }
            .video-section { position: relative; }
        }
    </style>
</head>
<body>

<header>
    <h1>üå∏ Learn English with Ms. Th√∫y üå∏</h1>
    <p>B√†i h·ªçc: <b>The Science of Cute Aggression</b> (40 Blank Challenge)</p>
</header>

<div class="container">
    <div class="video-section">
        <div class="video-container">
            <div id="player"></div>
        </div>
        <div style="margin-top: 15px; background: white; padding: 15px; border-radius: 15px; text-align: center;">
            <p style="margin: 0; color: #d84361;"><b>H∆Ø·ªöNG D·∫™N:</b> Video s·∫Ω t·ª± d·ª´ng khi g·∫∑p t·ª´ v·ª±ng. ƒêi·ªÅn v√†o ch·ªó tr·ªëng v√† nh·∫•n Play ƒë·ªÉ ti·∫øp t·ª•c.</p>
        </div>
    </div>

    <div class="transcript-section" id="transcript-container"></div>
</div>

<script>
    const transcriptData = [
        { start: 7, end: 10, text: "Watching a kitten <input type='text' data-answer='fumbling'> around,", hint: "l√≥ng ng√≥ng/v·ª•ng v·ªÅ" },
        { start: 10, end: 14, text: "it might feel as if you‚Äôve never <input type='text' data-answer='encountered'> anything", hint: "b·∫Øt g·∫∑p/ch·∫°m tr√°n (IELTS)" },
        { start: 14, end: 18, text: "so <input type='text' data-answer='devastatingly'> adorable in your <input type='text' data-answer='mortal'> life.", hint: "t·ªôt c√πng/kinh kh·ªßng - tr·∫ßn th·∫ø" },
        { start: 19, end: 24, text: "You may want to pet its soft fur and kiss its tiny head." },
        { start: 25, end: 31, text: "But you may also feel the <input type='text' data-answer='conflicting'> urge to squeeze", hint: "m√¢u thu·∫´n/ƒë·ªëi l·∫≠p" },
        { start: 31, end: 33, text: "or <input type='text' data-answer='smush'> the kitten,", hint: "nghi·ªÅn n√°t/ƒë√® b·∫πp" },
        { start: 33, end: 35, text: "maybe even stuff it in your mouth." },
        { start: 36, end: 40, text: "However, you don‚Äôt. And you might be <input type='text' data-answer='appalled'> by yourself.", hint: "kinh h√£i/s·ªëc" },
        { start: 40, end: 45, text: "But this <input type='text' data-answer='urge'>, which psychologists call ‚Äúcute aggression,‚Äù", hint: "s·ª± th√¥i th√∫c" },
        { start: 45, end: 51, text: "is a surprisingly common one <input type='text' data-answer='estimated'> to <input type='text' data-answer='affect'> about half of all adults.", hint: "ƒë∆∞·ª£c ∆∞·ªõc t√≠nh - ·∫£nh h∆∞·ªüng" },
        { start: 52, end: 55, text: "To better understand this <input type='text' data-answer='peculiar'> phenomenon,", hint: "k·ª≥ l·∫°/ri√™ng bi·ªát" },
        { start: 55, end: 63, text: "let's start with what cuteness is. In 1943, one scientist created a <input type='text' data-answer='baby schema'>", hint: "l∆∞·ª£c ƒë·ªì/m√¥ h√¨nh tr·∫ª em" },
        { start: 63, end: 67, text: "that <input type='text' data-answer='identified'> key <input type='text' data-answer='features'>", hint: "x√°c ƒë·ªãnh - ƒë·∫∑c ƒëi·ªÉm" },
        { start: 67, end: 71, text: "<input type='text' data-answer='associated'> with cuteness, like plump cheeks and large eyes.", hint: "li√™n quan ƒë·∫øn" },
        { start: 71, end: 79, text: "These <input type='text' data-answer='characteristics'> were placed in <input type='text' data-answer='opposition'>", hint: "ƒë·∫∑c t√≠nh - s·ª± ƒë·ªëi l·∫≠p" },
        { start: 80, end: 87, text: "with those <input type='text' data-answer='perceived'> as less cute. Decades of study have since <input type='text' data-answer='indicated'>", hint: "ƒë∆∞·ª£c nh·∫≠n th·ª©c - ch·ªâ ra r·∫±ng" },
        { start: 87, end: 91, text: "that this baby schema <input type='text' data-answer='reliably'> tracks with human perception.", hint: "m·ªôt c√°ch ƒë√°ng tin c·∫≠y" },
        { start: 92, end: 97, text: "When <input type='text' data-answer='participants'> see images containing more features", hint: "ng∆∞·ªùi tham gia (nghi√™n c·ª©u)" },
        { start: 98, end: 101, text: "that the baby schema <input type='text' data-answer='pinpoints'> as cute,", hint: "ch·ªâ ra ch√≠nh x√°c" },
        { start: 101, end: 104, text: "they <input type='text' data-answer='tend'> to look at them longer.", hint: "c√≥ xu h∆∞·ªõng" },
        { start: 105, end: 108, text: "And the photos appear to <input type='text' data-answer='stimulate'> brain regions", hint: "k√≠ch th√≠ch" },
        { start: 108, end: 111, text: "associated with <input type='text' data-answer='emotion'> and reward.", hint: "c·∫£m x√∫c" },
        { start: 111, end: 115, text: "Cuteness is also thought to <input type='text' data-answer='influence'> behavior.", hint: "·∫£nh h∆∞·ªüng (IELTS)" },
        { start: 115, end: 119, text: "In a 2009 study, participants performed better at tasks <input type='text' data-answer='demanding'> precise movements.", hint: "ƒë√≤i h·ªèi/y√™u c·∫ßu" },
        { start: 120, end: 127, text: "The results <input type='text' data-answer='indicated'> that people use recycling bins more when they have cute images.", hint: "ch·ªâ ra/cho th·∫•y" },
        { start: 127, end: 130, text: "The fact that cuteness <input type='text' data-answer='hijacks'> our emotions", hint: "chi·∫øm ƒëo·∫°t/kh·ªëng ch·∫ø" },
        { start: 130, end: 135, text: "is not lost on <input type='text' data-answer='authorities'> and advertisers.", hint: "c√°c nh√† ch·ª©c tr√°ch" },
        { start: 135, end: 140, text: "But why does cuteness have this <input type='text' data-answer='hold'> on us? It's <input type='text' data-answer='impossible'> to know for sure,", hint: "s·ª± ·∫£nh h∆∞·ªüng/ki·ªÉm so√°t - kh√¥ng th·ªÉ" },
        { start: 141, end: 145, text: "but one <input type='text' data-answer='theory'> is that cute things simply make us want to <input type='text' data-answer='nurture'> them.", hint: "l√Ω thuy·∫øt - nu√¥i d∆∞·ª°ng" },
        { start: 146, end: 154, text: "Because human babies are <input type='text' data-answer='relatively'> helpless, evolution <input type='text' data-answer='favored'> infants who were cute.", hint: "t∆∞∆°ng ƒë·ªëi - ∆∞u √°i" },
        { start: 158, end: 165, text: "We're <input type='text' data-answer='tuned'> into similar features in other species.", hint: "tr·ªü n√™n nh·∫°y b√©n/b·∫Øt s√≥ng" },
        { start: 165, end: 171, text: "In fact, as we <input type='text' data-answer='domesticated'> animals, their appearances changed.", hint: "thu·∫ßn h√≥a" },
        { start: 171, end: 180, text: "Some scientists noted a phenomenon called <input type='text' data-answer='domestication syndrome'>.", hint: "h·ªôi ch·ª©ng thu·∫ßn h√≥a" },
        { start: 181, end: 188, text: "Where animals <input type='text' data-answer='gradually'> adopted more <input type='text' data-answer='juvenile'> features.", hint: "d·∫ßn d·∫ßn - v·ªã th√†nh ni√™n/tr·∫ª con" },
        { start: 189, end: 196, text: "These physical changes are <input type='text' data-answer='regulated'> by the <input type='text' data-answer='neural crest'>.", hint: "ƒëi·ªÅu ch·ªânh - m√†o th·∫ßn kinh" },
        { start: 220, end: 230, text: "Selecting for friendliness may also select for <input type='text' data-answer='docile'> traits.", hint: "ngoan ngo√£n/d·ªÖ b·∫£o" },
        { start: 246, end: 254, text: "Ancient humans selected for <input type='text' data-answer='friendlier'> individuals.", hint: "th√¢n thi·ªán h∆°n" },
        { start: 255, end: 265, text: "Which led to physical characteristics that <input type='text' data-answer='distinguish'> us from our cousins.", hint: "ph√¢n bi·ªát" },
        { start: 271, end: 277, text: "Why would anyone want to squeeze cute things? It is not <input type='text' data-answer='linked'> to harm.", hint: "li√™n k·∫øt/li√™n quan" },
        { start: 280, end: 289, text: "Instead, it results from <input type='text' data-answer='emotional overload'>. It is the brain's way of <input type='text' data-answer='regulating'> feelings.", hint: "qu√° t·∫£i c·∫£m x√∫c - ƒëi·ªÅu ch·ªânh" },
        { start: 310, end: 327, text: "Cuteness <input type='text' data-answer='wields'> immense, <input type='text' data-answer='consequential'> power.", hint: "n·∫Øm gi·ªØ - mang t√≠nh h·ªá tr·ªçng/k·∫øt qu·∫£" }
    ];

    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            videoId: 'yxsoE3jO8HM',
            playerVars: { 'autoplay': 0, 'rel': 0, 'modestbranding': 1 },
            events: { 'onReady': onPlayerReady }
        });
    }

    function onPlayerReady() {
        renderTranscript();
        setInterval(updateHighlight, 400);
    }

    function renderTranscript() {
        const container = document.getElementById('transcript-container');
        transcriptData.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'sentence';
            div.id = `s-${index}`;
            // Thay th·∫ø input hint ƒë·ªÉ hi·ªÉn th·ªã b√™n d∆∞·ªõi √¥ tr·ªëng
            let htmlText = item.text.replace(/<input/g, (match) => {
                return `<br><input`;
            });
            div.innerHTML = `${item.text} ${item.hint ? `<span class="keyword-hint">‚Üí Nghƒ©a: ${item.hint}</span>` : ''}`;
            container.appendChild(div);
        });
    }

    let lastActiveIndex = -1;
    let pausedIndices = new Set();

    function updateHighlight() {
        if (!player || typeof player.getCurrentTime !== 'function') return;
        const currentTime = player.getCurrentTime();
        
        transcriptData.forEach((item, index) => {
            if (currentTime >= item.start && currentTime <= item.end) {
                if (lastActiveIndex !== index) {
                    document.querySelectorAll('.sentence').forEach(s => s.classList.remove('active'));
                    const currentEl = document.getElementById(`s-${index}`);
                    if (currentEl) {
                        currentEl.classList.add('active');
                        currentEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }

                    if (item.text.includes('input') && !pausedIndices.has(index)) {
                        player.pauseVideo();
                        pausedIndices.add(index);
                    }
                    lastActiveIndex = index;
                }
            }
        });
    }
</script>
</body>
</html>
